modulex.add("stylesheet",["dom"],function(e,s,t){var l,n=e("dom");l=function(e){function s(e){e.el&&(e=e.el),e=this.el=i.get(e);var s=e.sheet||e.styleSheet;this.sheet=s;var t={};this.cssRules=t;var n=s&&"cssRules"in s?"cssRules":"rules";this.rulesName=n;var r,u,c,h,o=s[n];for(r=o.length-1;r>=0;r--)u=o[r],c=u.selectorText,(h=t[c])?(h.style.cssText+=";"+h.style.cssText,l(s,r)):t[c]=u}function t(e,s){return u.style.cssText=s||"",i.css(u,e),u.style.cssText}function l(e,s){e.deleteRule?e.deleteRule(s):e.removeRule&&e.removeRule(s)}function r(e,s,t,l){e.insertRule?e.insertRule(s+" {"+t+"}",l):e.addRule&&e.addRule(s,t,l)}var i=n;s.prototype={constructor:s,enable:function(){return this.sheet.disabled=!1,this},disable:function(){return this.sheet.disabled=!0,this},isEnabled:function(){return!this.sheet.disabled},set:function(e,s){var n,i=this.sheet,u=this.rulesName,c=this.cssRules,h=c[e],o=e.split(/\s*,\s*/);if(o.length>1){for(n=0;n<o.length-1;n++)this.set(o[n],s);return this}if(h){if(s=t(s,h.style.cssText))h.style.cssText=s;else for(delete c[e],n=i[u].length-1;n>=0;n--)if(i[u][n]===h){l(i,n);break}}else{var a=i[u].length;s=t(s),s&&(r(i,e,s,a),c[e]=i[u][a])}return this},get:function(e){var s,t,l,n=this.cssRules;if(e)return s=n[e],s?s.style.cssText:null;t=[];for(l in n)s=n[l],t.push(s.selectorText+" {"+s.style.cssText+"}");return t.join("\n")}};var u=document.createElement("p");return e=s,s.version="1.0.1",e}(),t.exports=l});