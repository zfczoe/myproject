modulex.add("node",["util","dom","event-dom","anim"],function(e,t,n){var r,i,a,o,u,s=e("util"),l=e("dom"),c=e("event-dom"),f=e("anim");r=function(e){function t(e,i,a){var o,s=this;if(e instanceof t&&1===arguments.length)return e.slice();if(!(s instanceof t))return t.all.apply(t,arguments);if(!e)return s;if("string"==typeof e){if(o=r.create(e,i,a),o.nodeType===u.DOCUMENT_FRAGMENT_NODE)return f.apply(this,p(o.childNodes)),s}else{if(n.isArray(e)||h(e))return f.apply(s,p(e)),s;o=e}return s[0]=o,s.length=1,s}var n=s,r=l,i=c,a=Array.prototype,o=a.slice,u=r.NodeType,f=a.push,p=n.makeArray,h=r.isDomNodeList;return t.prototype={constructor:t,isNode:!0,length:0,item:function(e){var n=this;return e=parseInt(e,10),"number"==typeof e&&!isNaN(e)&&e<n.length?new t(n[e]):null},add:function(e,n,r){"number"==typeof n&&(r=n,n=void 0);var i=t.all(e,n).getDOMNodes(),o=new t(this);if(void 0===r)f.apply(o,i);else{var u=[r,0];u.push.apply(u,i),a.splice.apply(o,u)}return o},slice:function(){return new t(o.apply(this,arguments))},getDOMNodes:function(){return o.call(this)},each:function(e,r){var i=this;return n.each(i,function(n,a){return n=new t(n),e.call(r||n,n,a,i)}),i},getDOMNode:function(){return this[0]},end:function(){var e=this;return e.__parent||e},filter:function(e){return new t(r.filter(this,e))},all:function(e){var n,r=this;return n=r.length>0?t.all(e,r):new t,n.__parent=r,n},one:function(e){var t=this,n=t.all(e),r=n.length?n.slice(0,1):null;return r&&(r.__parent=t),r}},n.mix(t,{all:function(e,i){if("string"==typeof e&&(e=n.trim(e))&&e.length>=3&&n.startsWith(e,"<")&&n.endsWith(e,">")){var a;return i&&(i.getDOMNode&&(i=i[0]),i.nodeType||(a=i,i=arguments[2])),new t(e,a,i)}return new t(r.query(e,i))},one:function(e,n){var r=t.all(e,n);return r.length?r.slice(0,1):null}}),t.Event=i,t.Dom=r,e=t}(),i=function(e){function t(e,t,n){n.unshift(t);var r=o[e].apply(o,n);return void 0===r?t:r}function n(e,t,n){n.unshift(t);var r=o[e].apply(o,n);return void 0===r?t:null===r?null:new f(r)}function i(e,n,r,i){return void 0!==i[r]||a.isObject(i[0])?t(e,n,i):(i.unshift(n),o[e].apply(o,i))}var a=s,o=l,u=c,f=r,p=f.prototype,h=a.makeArray,d=["nodeName","isCustomDomain","getEmptyIframeSrc","equals","contains","index","scrollTop","scrollLeft","height","width","innerHeight","innerWidth","outerHeight","outerWidth","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","scrollIntoView","remove","empty","removeData","hasData","unselectable","wrap","wrapAll","replaceWith","wrapInner","unwrap"],g=["getWindow","getDocument","filter","first","last","parent","closest","next","prev","clone","siblings","contents","children"],m={attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,outerHTML:0,outerHtml:0,data:1},v=["on","detach","delegate","undelegate"],y=["fire","fireHandler"];return f.KeyCode=u.KeyCode,a.each(d,function(e){p[e]=function(){var n=h(arguments);return t(e,this,n)}}),a.each(g,function(e){p[e]=function(){var t=h(arguments);return n(e,this,t)}}),a.each(m,function(e,t){p[t]=function(){var n=h(arguments);return i(t,this,e,n)}}),a.each(v,function(e){p[e]=function(){var t=this,n=h(arguments);return n.unshift(t),u[e].apply(u,n),t}}),a.each(y,function(e){p[e]=function(){var t=this,n=h(arguments);return n.unshift(t),u[e].apply(u,n)}}),e}(),a=function(e){var t=s,n=l,i=r,a=i.prototype;return t.each(["append","prepend","before","after"],function(e){a[e]=function(t){var r=t,i=this;return"object"!=typeof r&&(r=n.create(r+"")),r&&n[e](r,i),i}}),t.each(["wrap","wrapAll","replaceWith","wrapInner"],function(e){var t=a[e];a[e]=function(e){var n=this;return"string"==typeof e&&(e=i.all(e,n[0].ownerDocument)),t.call(n,e)}}),e}(),o=function(e){function t(e,t,n){for(var r=[],i={},a=n||0;t>a;a++)r.push.apply(r,u[a]);for(a=0;a<r.length;a++)i[r[a]]=e;return i}var n=r,i=l,a=f,o=s,u=[["height","margin-top","margin-bottom","padding-top","padding-bottom"],["width","margin-left","margin-right","padding-left","padding-right"],["opacity"]];return o.augment(n,{animate:function(){var e=this,t=e.length,n=e.length>1,r=o.makeArray(arguments),i=r[0],u=a;i.to?u=i.Anim||a:(i=r[1],i&&(u=i.Anim||a));for(var s=0;t>s;s++){var l=e[s],c=n?o.clone(r):r,f=c[0];f.to?(f.node=l,new u(f).run()):u.apply(void 0,[l].concat(c)).run()}return e},stop:function(e,t,n){var r=this;return o.each(r,function(r){a.stop(r,e,t,n)}),r},pause:function(e,t){var n=this;return o.each(n,function(e){a.pause(e,t)}),n},resume:function(e,t){var n=this;return o.each(n,function(e){a.resume(e,t)}),n},isRunning:function(){for(var e=this,t=0;t<e.length;t++)if(a.isRunning(e[t]))return!0;return!1},isPaused:function(){for(var e=this,t=0;t<e.length;t++)if(a.isPaused(e[t]))return!0;return!1}}),o.each({show:t("show",3),hide:t("hide",3),toggle:t("toggle",3),fadeIn:t("show",3,2),fadeOut:t("hide",3,2),fadeToggle:t("toggle",3,2),slideDown:t("show",1),slideUp:t("hide",1),slideToggle:t("toggle",1)},function(e,t){n.prototype[t]=function(n,r,u){var s=this;if(i[t]&&!n)i[t](s);else{var l=a;"object"==typeof n&&(l=n.Anim||a),o.each(s,function(t){new l(t,e,n,u,r).run()})}return s}}),e}(),u=function(e){return e=r,n.exports.version="1.0.1",e}(),n.exports=u});